:host { display:block; padding: var(--space-xl,2rem) 1rem; }
.panel-title { margin:0 0 .25rem; font-size:1.75rem; }
.muted { color:#6b7280; font-size:.9rem; }
.cards-grid { 
	/* Agora sempre coluna única para cada card ocupar largura total */
	display:flex; 
	flex-direction:column; 
	gap:1rem; 
	margin-top:1.25rem; 
}
.card { 
	/* Garante que ocupa toda a largura disponível */
	width:100%;
}
/* Removemos media query redundante; comportamento já é coluna única em qualquer largura */
.card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; box-shadow:0 1px 2px rgba(0,0,0,.06); display:flex; flex-direction:column; }
.card-header { display:flex; align-items:center; justify-content:space-between; padding:.85rem 1rem; cursor:pointer; -webkit-user-select:none; user-select:none; }
.card-header h3 { margin:0; font-size:1.05rem; font-weight:600; }
.card-header .toggle { border:0; background:transparent; font-size:.85rem; cursor:pointer; transform:rotate(-90deg); transition:.2s; }
.card.expanded .card-header .toggle { transform:rotate(0deg); }
.card-body { padding:.75rem 1rem 1rem; border-top:1px solid #e5e7eb; animation:fade .25s ease; }
.loading { font-size:.85rem; color:#555; }
.error { font-size:.85rem; color:#b91c1c; }
.table { width:100%; border-collapse:collapse; font-size:.8rem; }
.table thead th { text-align:left; padding:.5rem .5rem; background:#f1f5f9; font-weight:600; font-size:.7rem; letter-spacing:.05em; text-transform:uppercase; color:#334155; }
.table tbody td { padding:.5rem .5rem; border-top:1px solid #e2e8f0; }
.badge { padding:.2rem .5rem; font-size:.65rem; border-radius:12px; font-weight:600; letter-spacing:.5px; }
.badge-active { background:#dcfce7; color:#166534; }
.badge-inactive { background:#fee2e2; color:#991b1b; }
.filters { display:flex; flex-wrap:wrap; gap:.5rem; margin:0 0 .75rem; }
.filters input[type=search] { flex:1 1 180px; min-width:150px; padding:.45rem .6rem; border:1px solid #cbd5e1; border-radius:6px; font-size:.75rem; }
.filters select { flex:0 0 auto; padding:.45rem .4rem; border:1px solid #cbd5e1; border-radius:6px; font-size:.7rem; background:#fff; }
.filters button.btn-small { padding:.45rem .75rem; font-size:.65rem; border:1px solid #64748b; background:#f1f5f9; border-radius:6px; cursor:pointer; transition:.15s; }
.filters button.btn-small:hover { background:#e2e8f0; }
.actions-col { display:flex; gap:.4rem; flex-wrap:wrap; }
.btn-ghost-small { background:transparent; border:1px solid #cbd5e1; padding:.3rem .55rem; font-size:.6rem; border-radius:4px; cursor:pointer; line-height:1.1; }
.btn-ghost-small:hover { background:#f1f5f9; }
.empty { text-align:center; font-size:.7rem; padding:1rem 0; color:#475569; }
.user-details { margin-top:1rem; border:1px solid #e2e8f0; border-radius:8px; background:#f8fafc; padding:.75rem .9rem; position:relative; animation:fade .25s ease; }
.user-details-header { display:flex; justify-content:space-between; align-items:center; margin:0 0 .5rem; }
.user-details-header .close { background:transparent; border:0; font-size:1rem; line-height:1; cursor:pointer; padding:.25rem .4rem; }
.user-details-body { font-size:.7rem; display:flex; flex-direction:column; gap:1rem; }
.detail-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:.6rem .75rem; }
.detail-grid label { display:block; font-size:.55rem; letter-spacing:.05em; text-transform:uppercase; color:#475569; margin-bottom:.15rem; font-weight:600; }
.detail-grid .value { font-size:.7rem; word-break:break-word; }
.detail-grid .mono { font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace; font-size:.6rem; }
.section h4 { margin:.25rem 0 .4rem; font-size:.75rem; font-weight:600; }
.kv { list-style:none; padding:0; margin:0; display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:.35rem .75rem; font-size:.65rem; }
.kv li { display:flex; justify-content:space-between; gap:.5rem; background:#fff; border:1px solid #e2e8f0; padding:.35rem .5rem; border-radius:6px; }
.kv li span { color:#475569; font-weight:500; }
.table.mini { font-size:.6rem; }
.table.mini thead th { font-size:.55rem; }
.loading.small, .error.small { font-size:.65rem; }
.org-details { margin-top:1rem; border:1px solid #e2e8f0; border-radius:8px; background:#f1f5f9; padding:.75rem .9rem; animation:fade .25s ease; }
.org-details-header { display:flex; justify-content:space-between; align-items:center; margin:0 0 .5rem; }
.org-details-header .close { background:transparent; border:0; font-size:1rem; cursor:pointer; padding:.25rem .4rem; }
.org-details-body { font-size:.7rem; display:flex; flex-direction:column; gap:1rem; }
.progress-bar { position:relative; height:6px; background:#e2e8f0; border-radius:4px; margin:.75rem 0; overflow:hidden; }
.progress-bar .bar { position:absolute; top:0; left:0; bottom:0; background:#6366f1; transition:width .25s ease; }
.training-details { margin-top:1rem; border:1px solid #e2e8f0; border-radius:8px; background:#f8fafc; padding:.75rem .9rem; animation:fade .25s ease; }
.training-details-header { display:flex; justify-content:space-between; align-items:center; margin:0 0 .5rem; }
.training-details-header .close { background:transparent; border:0; font-size:1rem; cursor:pointer; padding:.25rem .4rem; }
.training-details-body { font-size:.7rem; display:flex; flex-direction:column; gap:1rem; }
.training-details-body .description { font-size:.65rem; line-height:1.25; margin:.25rem 0 0; white-space:pre-line; }
.upload-label { cursor:pointer; position:relative; overflow:hidden; }
.btn-primary { background:#6366f1; border-color:#6366f1; color:#fff; }
.btn-primary:hover { background:#4f46e5; }
.btn.new-training-btn { font-size:.65rem; padding:.5rem .9rem; }
.btn.new-training-btn { --btn-bg:#6366f1; --btn-border:#6366f1; --btn-color:#fff; --btn-bg-hover:#4f46e5; }

/* Coluna PDF com ícone */
.pdf-col { text-align:center; }
.pdf-icon { display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; border-radius:6px; background:#f1f5f9; border:1px solid #e2e8f0; transition:.2s; }
.pdf-icon svg { width:16px; height:16px; display:block; }
.pdf-icon.has { color:#15803d; background:#dcfce7; border-color:#bbf7d0; }
.pdf-icon.missing { color:#b91c1c; background:#fee2e2; border-color:#fecaca; }
.pdf-icon.has:hover { filter:brightness(.95); }
.pdf-icon.missing:hover { filter:brightness(.97); }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
.pdf-meta { margin-top:4px; font-size:.6rem; color:#64748b; line-height:1.2; }

/* Ações com ícones */
.actions-wrapper .icon { width:14px; height:14px; fill:currentColor; }
.actions-menu .icon { width:14px; height:14px; }
.actions-menu .menu-item { gap:.4rem; }
.actions-wrapper { position:relative; display:inline-block; }
.more-trigger { position:relative; padding-right:1.2rem; }
.actions-menu { position:absolute; top:100%; right:0; margin-top:.35rem; background:#fff; border:1px solid #e2e8f0; border-radius:10px; box-shadow:0 8px 28px -6px rgba(0,0,0,.22); min-width:150px; display:flex; flex-direction:column; padding:.4rem; z-index:30; animation:fade .18s ease; }
.actions-menu .menu-item { background:transparent; border:0; text-align:left; padding:.45rem .55rem; font-size:.65rem; border-radius:6px; cursor:pointer; color:#334155; display:flex; align-items:center; gap:.5rem; }
.actions-menu .menu-item:hover:not(:disabled) { background:#f1f5f9; }
.actions-menu .menu-item:disabled { opacity:.55; cursor:not-allowed; }
.actions-menu .menu-item.as-label { cursor:pointer; }
.actions-menu .menu-item.as-label span { pointer-events:none; }
.overlay { position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:1000; animation:fade .25s ease; }
.create-modal { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; width:min(95vw,480px); max-height:90vh; overflow:auto; padding:1.1rem 1.15rem 1.5rem; border-radius:12px; z-index:1001; box-shadow:0 18px 48px -8px rgba(0,0,0,.3); animation:scaleIn .25s ease; display:flex; flex-direction:column; gap:.85rem; }
.create-modal h3 { margin:0; font-size:1rem; }
.create-modal form { display:flex; flex-direction:column; gap:.75rem; }
.create-modal label { display:flex; flex-direction:column; gap:.35rem; font-size:.65rem; font-weight:600; color:#334155; }
.create-modal input[type=text], .create-modal textarea, .create-modal select { font:inherit; font-size:.72rem; padding:.45rem .55rem; border:1px solid #cbd5e1; border-radius:6px; background:#f8fafc; resize:vertical; }
.create-modal textarea { line-height:1.25; }
.create-modal .actions-row { display:flex; justify-content:flex-end; gap:.5rem; }
.create-modal .form-messages { font-size:.65rem; color:#b91c1c; }
/* ---- Botões modernizados ---- */
.btn { --btn-bg:#f1f5f9; --btn-border:#cbd5e1; --btn-color:#0f172a; --btn-bg-hover:#e2e8f0; --btn-shadow:0 1px 2px rgba(0,0,0,.05); font-size:.7rem; font-weight:600; letter-spacing:.3px; padding:.55rem .95rem; border-radius:8px; border:1px solid var(--btn-border); background:var(--btn-bg); color:var(--btn-color); cursor:pointer; transition:.18s cubic-bezier(.4,0,.2,1); display:inline-flex; align-items:center; gap:.45rem; position:relative; box-shadow:var(--btn-shadow); }
.btn:disabled { opacity:.6; cursor:not-allowed; }
.btn:not(:disabled):hover { background:var(--btn-bg-hover); transform:translateY(-1px); box-shadow:0 4px 14px -4px rgba(0,0,0,.15); }
.btn:not(:disabled):active { transform:translateY(0); box-shadow:0 2px 8px -4px rgba(0,0,0,.2); }
.btn--primary { --btn-bg:#6366f1; --btn-bg-hover:#4f46e5; --btn-border:#6366f1; --btn-color:#fff; }
.btn--danger { --btn-bg:#dc2626; --btn-bg-hover:#b91c1c; --btn-border:#dc2626; --btn-color:#fff; }
.btn--subtle { --btn-bg:#f8fafc; --btn-bg-hover:#f1f5f9; --btn-border:#cbd5e1; }
.btn--outline { --btn-bg:#fff; --btn-bg-hover:#f8fafc; --btn-border:#94a3b8; }
.btn--ghost { background:transparent; border:1px solid transparent; box-shadow:none; padding:.4rem .6rem; font-size:.65rem; }
.btn--ghost:not(:disabled):hover { background:#f1f5f9; }
.modal-actions { margin-top:.25rem; }

/* ---- Aprimorar detalhes (cards internos) ---- */
.user-details, .org-details, .training-details { background:linear-gradient(135deg,#f8fafc,#ffffff); border:1px solid #e2e8f0; box-shadow:0 4px 10px -4px rgba(0,0,0,.08); }
.user-details-header strong, .org-details-header strong, .training-details-header strong { font-size:.8rem; letter-spacing:.5px; font-weight:700; color:#334155; }
.detail-grid { --gap:.75rem; gap:var(--gap); }
.detail-grid > div { background:#fff; border:1px solid #e2e8f0; border-radius:8px; padding:.55rem .6rem .6rem; position:relative; box-shadow:0 1px 2px rgba(0,0,0,.04); }
.detail-grid > div:hover { border-color:#cbd5e1; }
.detail-grid label { margin:0 0 .25rem; font-size:.55rem; font-weight:700; letter-spacing:.06em; color:#64748b; text-transform:uppercase; }
.detail-grid .value { font-size:.7rem; font-weight:500; color:#1e293b; }
.section { background:#fff; border:1px solid #e2e8f0; padding:.7rem .85rem .8rem; border-radius:10px; box-shadow:0 1px 2px rgba(0,0,0,.04); }
.section h4 { display:flex; align-items:center; gap:.4rem; font-size:.68rem; text-transform:uppercase; letter-spacing:.05em; margin:0 0 .55rem; color:#334155; }
.section .description { font-size:.65rem; color:#475569; line-height:1.35; }
.kv li { border-radius:8px; border:1px solid #e2e8f0; background:linear-gradient(180deg,#ffffff,#f1f5f9); }
.kv li:hover { border-color:#cbd5e1; }
.table.mini tbody tr:hover td { background:#f8fafc; }

/* Badges refinadas */
.badge { font-weight:600; position:relative; overflow:hidden; }
.badge::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 120% 10%,rgba(255,255,255,.5),rgba(255,255,255,0)); opacity:.3; mix-blend-mode:overlay; }
.badge-active { background:linear-gradient(90deg,#22c55e,#16a34a); color:#fff; }
.badge-inactive { background:linear-gradient(90deg,#f87171,#dc2626); color:#fff; }

/* Scroll suave dentro dos detalhes quando muito conteúdo */
.user-details-body, .org-details-body, .training-details-body { max-height:480px; overflow:auto; padding-right:.25rem; }
.user-details-body::-webkit-scrollbar, .org-details-body::-webkit-scrollbar, .training-details-body::-webkit-scrollbar { width:6px; }
.user-details-body::-webkit-scrollbar-track, .org-details-body::-webkit-scrollbar-track, .training-details-body::-webkit-scrollbar-track { background:transparent; }
.user-details-body::-webkit-scrollbar-thumb, .org-details-body::-webkit-scrollbar-thumb, .training-details-body::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:4px; }
.user-details-body::-webkit-scrollbar-thumb:hover, .org-details-body::-webkit-scrollbar-thumb:hover, .training-details-body::-webkit-scrollbar-thumb:hover { background:#94a3b8; }

/* Modal inputs refinados */
.create-modal input[type=text], .create-modal textarea, .create-modal select { background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.05); }
.create-modal input[type=text]:focus, .create-modal textarea:focus, .create-modal select:focus { outline:2px solid #6366f1; outline-offset:1px; background:#ffffff; }
.create-modal label span { color:#dc2626; margin-left:.25rem; }

/* Animação leve nos cards de detalhe abertos */
.user-details, .org-details, .training-details { animation:popIn .3s cubic-bezier(.4,0,.2,1); }
@keyframes popIn { from { opacity:0; transform:translateY(4px) scale(.98);} to { opacity:1; transform:translateY(0) scale(1);} }
@keyframes scaleIn { from { opacity:0; transform:translate(-50%,-50%) scale(.92);} to { opacity:1; transform:translate(-50%,-50%) scale(1);} }
.list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.5rem; }
.list-item { background:#f8fafc; border:1px solid #e2e8f0; padding:.6rem .75rem; border-radius:6px; display:flex; flex-direction:column; gap:.2rem; }
.list-item strong { font-size:.85rem; }
.list-item .muted { font-size:.65rem; }
.updated { font-size:.55rem; color:#475569; margin-left:auto; }
.chips { display:flex; flex-wrap:wrap; gap:.4rem; list-style:none; padding:0; margin:0; }
.chip { background:#eef2ff; border:1px solid #c7d2fe; color:#3730a3; padding:.35rem .6rem; font-size:.65rem; font-weight:500; border-radius:20px; }
.no-access { max-width:560px; margin:4rem auto; text-align:center; }
.no-access h2 { margin:0 0 .5rem; font-size:1.5rem; }
/* Media query antiga removida pois layout agora é sempre empilhado */
@keyframes fade { from{opacity:.0; transform:translateY(4px);} to{opacity:1; transform:translateY(0);} }

/* === Analytics & Relatórios (Card 4) === */
.analytics-placeholder { margin-top:.75rem; display:flex; flex-direction:column; gap:1rem; }
.analytics-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:.85rem; }
.metric-box { position:relative; background:linear-gradient(145deg,#ffffff,#f1f5f9); border:1px solid #e2e8f0; border-radius:14px; padding:.75rem .8rem .85rem; display:flex; flex-direction:column; gap:.35rem; box-shadow:0 2px 8px -4px rgba(0,0,0,.06),0 4px 18px -6px rgba(0,0,0,.05); overflow:hidden; }
.metric-box::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%,rgba(99,102,241,.12),rgba(99,102,241,0)); pointer-events:none; }
.metric-box[data-state='empty'] .value { opacity:.5; }
.metric-top { display:flex; align-items:center; gap:.45rem; }
.metric-top strong { font-size:.7rem; font-weight:600; color:#1e293b; letter-spacing:.4px; }
.metric-icon { width:30px; height:30px; border-radius:10px; background:linear-gradient(135deg,#6366f1,#818cf8); display:inline-flex; align-items:center; justify-content:center; color:#fff; box-shadow:0 4px 10px -4px rgba(99,102,241,.5); flex:0 0 auto; }
.metric-icon svg { width:16px; height:16px; }
.metric-box .value { font-size:1.35rem; font-weight:600; font-variant-numeric:tabular-nums; letter-spacing:.5px; color:#111827; line-height:1.1; margin-top:.15rem; }
.metric-box .trend { height:4px; border-radius:2px; background:linear-gradient(90deg,#c7d2fe,#eef2ff); width:100%; position:relative; overflow:hidden; margin-top:.15rem; }
.metric-box .trend.placeholder::after { content:""; position:absolute; inset:0; background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.8) 35%,rgba(255,255,255,0) 70%); animation:shimmer 1.6s linear infinite; }
.legend { text-align:center; }
@keyframes shimmer { from { transform:translateX(-60%);} to { transform:translateX(60%);} }

/* === Gestão da Plataforma (Card 5) === */
.platform-subcards { display:grid; gap:1.1rem; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); margin-top:.75rem; }
.admin-subcard { background:linear-gradient(160deg,#f8fafc,#ffffff); border:1px solid #e2e8f0; border-radius:16px; padding:0; display:flex; flex-direction:column; box-shadow:0 4px 14px -6px rgba(0,0,0,.08),0 8px 24px -10px rgba(0,0,0,.05); position:relative; overflow:hidden; }
.admin-subcard::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 110% -10%,rgba(99,102,241,.15),rgba(99,102,241,0)); pointer-events:none; }
.admin-subcard-header { display:flex; align-items:flex-start; gap:.75rem; padding:.85rem .95rem .6rem; position:relative; }
.admin-subcard-header .icon-wrap { width:42px; height:42px; border-radius:14px; background:linear-gradient(135deg,#6366f1,#818cf8); display:flex; align-items:center; justify-content:center; color:#fff; box-shadow:0 4px 14px -6px rgba(99,102,241,.6); flex:0 0 auto; }
.admin-subcard-header .icon-wrap svg { width:22px; height:22px; }
.admin-subcard-header .titles h4 { margin:0; font-size:.8rem; font-weight:600; letter-spacing:.5px; color:#1e293b; }
.admin-subcard-header .titles .subtitle { margin:.15rem 0 0; font-size:.6rem; color:#64748b; font-weight:500; letter-spacing:.3px; }
.admin-subcard-body { padding:.4rem .95rem .95rem; display:flex; flex-direction:column; gap:.6rem; }
.platform-tabs { display:flex; gap:.4rem; flex-wrap:wrap; }
.platform-tab { background:#fff; border:1px solid #e2e8f0; font-size:.55rem; padding:.45rem .65rem; border-radius:30px; cursor:pointer; font-weight:600; color:#475569; letter-spacing:.4px; position:relative; transition:.18s; }
.platform-tab:hover:not(:disabled) { background:#f1f5f9; border-color:#cbd5e1; }
.platform-tab:disabled { opacity:.45; cursor:not-allowed; }
.platform-tab.active { background:linear-gradient(90deg,#6366f1,#4f46e5); color:#fff; border-color:#6366f1; box-shadow:0 4px 10px -4px rgba(99,102,241,.5); }
.platform-tab-panel { background:#fff; border:1px dashed #cbd5e1; padding:.7rem .75rem; border-radius:12px; font-size:.62rem; line-height:1.25; position:relative; min-height:72px; display:flex; flex-direction:column; gap:.5rem; }
.platform-tab-panel.placeholder { display:flex; align-items:center; justify-content:center; text-align:center; font-style:italic; }
.chips .chip { background:#f5f3ff; border:1px solid #ddd6fe; color:#5b21b6; font-size:.58rem; letter-spacing:.3px; font-weight:600; padding:.4rem .65rem; box-shadow:0 1px 2px rgba(0,0,0,.05); }
.chips .empty-chip { background:#f1f5f9; border:1px dashed #cbd5e1; color:#64748b; font-weight:500; }

/* --- Setores CRUD (Taxonomia) --- */
.sector-create { display:flex; flex-direction:column; gap:.6rem; }
.sector-form { display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; }
.sector-form input[type=text] { flex:1 1 160px; min-width:140px; padding:.45rem .6rem; font-size:.6rem; border:1px solid #cbd5e1; border-radius:8px; background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.04); }
.sector-form input[type=text]:focus { outline:2px solid #6366f1; outline-offset:1px; }
.btn--sector-create { font-size:.6rem; padding:.5rem .85rem; }
.form-error { font-size:.6rem; color:#b91c1c; }
.sectors-list { margin-top:.2rem; }
.chip--sector { position:relative; padding-right:1.4rem; display:inline-flex; align-items:center; gap:.3rem; }
.chip--sector .chip-label { max-width:140px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.chip-remove { position:absolute; top:50%; right:.3rem; transform:translateY(-50%); background:transparent; border:0; cursor:pointer; font-size:.85rem; line-height:1; padding:0 .15rem; color:#475569; border-radius:4px; }
.chip-remove:hover:not(:disabled) { background:#e2e8f0; color:#1e293b; }
.chip-remove:disabled { opacity:.5; cursor:not-allowed; }

/* Setores vinculados (detalhes do conteúdo) */
.training-details-body table.mini tbody tr td { vertical-align:middle; }
.training-details-body table.mini td .btn-ghost-small { font-size:.55rem; padding:.3rem .5rem; }

/* Ajustes responsivos extras para subcards */
@media (max-width:640px) {
	.analytics-grid { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
	.metric-box .value { font-size:1.1rem; }
	.platform-subcards { grid-template-columns:1fr; }
	.admin-subcard-header { padding:.8rem .85rem .55rem; }
	.admin-subcard-header .icon-wrap { width:38px; height:38px; border-radius:12px; }
	.admin-subcard-header .icon-wrap svg { width:20px; height:20px; }
}

