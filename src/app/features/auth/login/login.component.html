<section class="auth-page">
  <div class="container auth-container">
    <div class="auth-card">
      <header class="auth-header">
  <h1>Bem-vindo</h1>
  <p class="intro-sub">Acesse ou crie sua conta.</p>
      </header>

      <div class="auth-tabs" role="tablist">
        <button
          type="button"
          class="auth-tab"
          [class.active]="activeTab === 'login'"
          role="tab"
          [attr.aria-selected]="activeTab === 'login'"
          (click)="selectTab('login')"
        >
          Entrar
        </button>
        <button
          type="button"
          class="auth-tab"
          [class.active]="activeTab === 'register'"
          role="tab"
          [attr.aria-selected]="activeTab === 'register'"
          (click)="selectTab('register')"
        >
          Criar conta
        </button>
      </div>

      <div class="auth-messages" *ngIf="errorMessage || successMessage">
        <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
        <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
      </div>

      <form
        *ngIf="activeTab === 'login'"
        [formGroup]="loginForm"
        (ngSubmit)="submitLogin()"
        class="auth-form"
        aria-label="Formulário de login"
      >
        <label class="auth-field">
          <span>E-mail</span>
          <input type="email" formControlName="email" autocomplete="email" required />
          <small class="field-error" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            Informe um e-mail válido.
          </small>
        </label>

        <label class="auth-field">
          <span>Senha</span>
          <input type="password" formControlName="password" autocomplete="current-password" required />
          <small class="field-error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            A senha precisa ter ao menos 6 caracteres.
          </small>
        </label>

        <button class="btn btn-primary" type="submit" [disabled]="isLoading">
          {{ isLoading ? 'Entrando…' : 'Entrar' }}
        </button>
      </form>

      <form
        *ngIf="activeTab === 'register'"
        [formGroup]="registerForm"
        (ngSubmit)="submitRegister()"
        class="auth-form"
        aria-label="Formulário de cadastro"
      >
        <label class="auth-field">
          <span>E-mail</span>
          <input type="email" formControlName="email" autocomplete="email" required />
          <small class="field-error" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            Informe um e-mail válido.
          </small>
        </label>

        <label class="auth-field">
          <span>Senha</span>
          <input type="password" formControlName="password" autocomplete="new-password" required />
          <small class="field-error" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            A senha precisa ter ao menos 6 caracteres.
          </small>
        </label>

        <button class="btn btn-primary" type="submit" [disabled]="isLoading">
          {{ isLoading ? 'Criando conta…' : 'Cadastrar' }}
        </button>
      </form>
    </div>
  </div>
</section>
