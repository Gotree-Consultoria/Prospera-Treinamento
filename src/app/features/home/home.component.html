<section class="hero">
  <div class="container">
    <div class="hero-content">
      <h1>{{ hero.title }}</h1>
      <p>{{ hero.description }}</p>

      <div class="hero-buttons">
        <a class="btn btn-primary" [routerLink]="hero.primaryCta.link">{{ hero.primaryCta.label }}</a>
      </div>
    </div>
    <div class="hero-image" aria-hidden="true">
      <img src="assets/images/prospera-logo1.png" alt="Logo Prospera" class="hero-logo" />
    </div>
  </div>
</section>

<section class="sectors-carousel" aria-labelledby="sectorsCarouselHeading">
  <div class="container">
    <div class="sectors-header">
      <h2 id="sectorsCarouselHeading">Atuamos em Diversos Setores</h2>
    </div>

    @if (sectorsLoading()) {
    <div class="sectors-status">Carregando setores...</div>
    }
    @if (sectorsError()) {
    <div class="sectors-status error">{{sectorsError()}}</div>
    }

    @if (!sectorsLoading() && !sectorsError() && sectors().length) {
    <div class="sectors-track" #sectorsTrack (mouseenter)="stopAutoScroll()" (mouseleave)="startAutoScroll()"
      (pointerdown)="stopAutoScroll()">

      @for (s of sectors(); track s.id) {
      <div class="sector-card" tabindex="0" aria-label="Setor {{s.name}}">
        @if (s.iconSvg) {
        <div class="sector-icon" [innerHTML]="sanitizeSvg(s.iconSvg)"></div>
        }
        <span class="sector-name">{{s.name}}</span>
        @if (s.description) {<small class="sector-desc">{{s.description}}</small>}
      </div>
      }
    </div>

    @if (pagesCount() > 1) {
    <nav class="sectors-pagination" aria-label="Páginas do carrossel">
      <ul>
        @for (i of pagesArray(); track i) {
        <li>
          <button class="dot" [class.active]="pageIndex() === i" (click)="goToPage(i)"
            [attr.aria-current]="pageIndex() === i ? 'true' : null" aria-label="Ir para página {{i + 1}}">
          </button>
        </li>
        }
      </ul>
    </nav>
    }
    }

    @if (!sectorsLoading() && !sectorsError() && !sectors().length) {
    <div class="sectors-empty">Nenhum setor disponível no momento.</div>
    }
  </div>
</section>

<section class="packages trainings-highlight" id="packages">
  <div class="container">
    <div class="trainings-intro intro-bg">
      <h2>{{ trainingsHighlight.title }}</h2>
      <p class="trainings-lead">{{ trainingsHighlight.lead }}</p>
      <ul class="trainings-benefits">
        <li>
          <span class="benefit-icon" aria-hidden="true">
            <svg viewBox="0 0 48 48">
              <path d="M10 6h20v8H10z" fill="currentColor" opacity=".18" />
              <path d="M8 4h24v12H8z" stroke="currentColor" stroke-width="2" fill="none" />
              <path d="M8 22h12M8 30h18M8 38h10" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </span>
          Ganho rápido de conhecimento aplicável
        </li>
        <li>
          <span class="benefit-icon" aria-hidden="true">
            <svg viewBox="0 0 48 48">
              <rect x="6" y="10" width="8" height="28" rx="2" fill="currentColor" opacity=".25" />
              <rect x="20" y="10" width="8" height="28" rx="2" fill="currentColor" opacity=".45" />
              <rect x="34" y="10" width="8" height="28" rx="2" fill="currentColor" opacity=".7" />
            </svg>
          </span>
          Trilhas combinando formatos
        </li>
        <li>
          <span class="benefit-icon" aria-hidden="true">
            <svg viewBox="0 0 48 48">
              <path d="M24 6 8 14v4c0 9.5 6.5 18.4 16 21 9.5-2.6 16-11.5 16-21v-4L24 6Z" stroke="currentColor"
                stroke-width="2" fill="none" />
              <path d="m20 24.5 3 3.5 6-8" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </span>
          Conformidade e atualização contínua
        </li>
        <li>
          <span class="benefit-icon" aria-hidden="true">
            <svg viewBox="0 0 48 48">
              <path d="M8 40c8-10 24-10 32 0" stroke="currentColor" stroke-width="2" fill="none"
                stroke-linecap="round" />
              <circle cx="24" cy="18" r="10" stroke="currentColor" stroke-width="2" fill="none" />
              <path d="M24 12v6l4 4" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </span>
          Foco em resultado e retenção
        </li>
      </ul>
      <div class="trainings-cta-buttons">
        <a class="btn btn-primary" [routerLink]="trainingsHighlight.primaryCta.link">
          {{ trainingsHighlight.primaryCta.label }}
        </a>
        <a class="btn btn-secondary" [routerLink]="trainingsHighlight.secondaryCta.link">
          {{ trainingsHighlight.secondaryCta.label }}
        </a>
      </div>
    </div>

    <div class="training-formats-cards">
      <article class="format-card" *ngFor="let format of trainingFormats">
        <div class="format-icon" [ngSwitch]="format.iconType">
          <svg *ngSwitchCase="'ebooks'" viewBox="0 0 48 48" role="img" aria-label="Ícone de e-book">
            <path
              d="M10 6c-1.657 0-3 1.343-3 3v30c0 1.657 1.343 3 3 3h17c.828 0 1.5.672 1.5 1.5S27.828 45 27 45H10c-3.314 0-6-2.686-6-6V9c0-3.314 2.686-6 6-6h22c1.657 0 3 1.343 3 3v18.382a3 3 0 0 0-.879 2.121V8.5a.5.5 0 0 0-.5-.5H10Z" />
            <path
              d="M18 11h9a1 1 0 1 1 0 2h-9a1 1 0 1 1 0-2Zm0 6h9a1 1 0 1 1 0 2h-9a1 1 0 1 1 0-2Zm0 6h5a1 1 0 1 1 0 2h-5a1 1 0 1 1 0-2Z" />
            <path
              d="M32 28.5c0-.795.316-1.559.879-2.121L39.5 19.76a3 3 0 0 1 4.243 0l2.497 2.497a3 3 0 0 1 0 4.243l-6.621 6.62A3 3 0 0 1 37.5 34h-5.379c-.073 0-.145-.002-.216-.007L27 36v-5.293l5-5A1.5 1.5 0 0 1 34.5 28.5v3.293l3.646-3.646-1.415-1.414-1.231 1.231a1 1 0 0 1-1.707-.707Z" />
          </svg>
          <svg *ngSwitchCase="'courses'" viewBox="0 0 48 48" role="img" aria-label="Ícone de curso gravado">
            <path
              d="M6 8a4 4 0 0 1 4-4h28a4 4 0 0 1 4 4v22a4 4 0 0 1-4 4H22v6h6a2 2 0 1 1 0 4H20a2 2 0 1 1 0-4h2v-6H10a4 4 0 0 1-4-4Zm4-2a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h28a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z" />
            <path
              d="M21 16.566v7.868a1 1 0 0 0 1.548.836l6.264-3.934a1 1 0 0 0 0-1.672l-6.264-3.934A1 1 0 0 0 21 16.566Z" />
          </svg>
          <svg *ngSwitchCase="'live'" viewBox="0 0 48 48" role="img" aria-label="Ícone de treinamento ao vivo">
            <path
              d="M24 6c5.523 0 10 4.477 10 10a9.964 9.964 0 0 1-2.508 6.6l3.954 3.954a2 2 0 0 1 0 2.828l-2.828 2.828a2 2 0 0 1-2.828 0l-4.057-4.057A9.983 9.983 0 0 1 24 32c-5.523 0-10-4.477-10-10S18.477 12 24 12s10 4.477 10 10h-4a6 6 0 1 0-6 6c1.36 0 2.607-.452 3.6-1.21l5.657 5.657 1.414-1.414-5.626-5.627A9.96 9.96 0 0 1 24 30c-5.523 0-10-4.477-10-10S18.477 10 24 10s10 4.477 10 10a2 2 0 1 1-4 0 6 6 0 1 0-12 0 6 6 0 0 0 6 6c1.886 0 3.563-.867 4.657-2.225L33.1 24.9A9.964 9.964 0 0 1 34 22c0-5.523-4.477-10-10-10Z" />
            <path
              d="M11 39a2 2 0 0 1-1.414-3.414l5-5a2 2 0 1 1 2.828 2.828l-5 5A1.996 1.996 0 0 1 11 39Zm26 0a1.996 1.996 0 0 1-1.414-.586l-5-5a2 2 0 1 1 2.828-2.828l5 5A2 2 0 0 1 37 39Z" />
          </svg>
          <svg *ngSwitchDefault viewBox="0 0 24 24" role="img" aria-hidden="true">
            <circle cx="12" cy="12" r="10"></circle>
          </svg>
        </div>
        <h3>{{ format.title }}</h3>
        <p>{{ format.description }}</p>
        <a class="btn btn-small" [routerLink]="format.link">{{ format.cta }}</a>
      </article>
    </div>
  </div>
</section>


<section class="newsletter">
  <div class="container">
    <div class="newsletter-content">
      <h2>Mantenha-se Atualizado</h2>
      <p>
        Receba as últimas novidades sobre Gestão de SST e lançamentos de novos e-books.
      </p>
      <form class="newsletter-form" (submit)="onNewsletterSubmit($event)">
        <input type="email" name="newsletter-email" placeholder="Seu e-mail" aria-label="Seu e-mail" required />
        <button class="btn btn-primary" type="submit">Subscrever</button>
      </form>
    </div>
  </div>
</section>