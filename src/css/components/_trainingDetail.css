:root {
  --td-gap: 10px;
}

/* Página Detalhe Treinamento */
#trainingDetailPageRoot { padding:14px 10px 40px; }
#trainingDetailPageRoot .training-detail-header {
  /* Grid de 3 colunas: esquerda (largura do botão), centro (título), direita (placeholder invisível) */
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  margin-bottom:14px;
  position:relative;
  min-height:42px;
  width:100%;
}
#trainingDetailPageRoot .training-detail-header .btn-back { grid-column:1; }
#trainingDetailPageRoot .training-detail-header:after {
  /* Placeholder invisível para espelhar a largura do botão e assegurar centro geométrico */
  content:"";
  grid-column:3;
  width:0; /* será expandido via JS opcionalmente se necessário */
}
#trainingDetailPageRoot .training-detail-header .training-title {
  grid-column:2;
  margin:0;
  font-size:1.2rem;
  text-align:center;
  line-height:1.2;
  padding:0; /* remover padding que empurrava visualmente */
  position:relative;
}
/* Fallback absoluto caso o grid seja alterado por algum CSS externo */
#trainingDetailPageRoot .training-detail-header.is-abs-center .training-title {
  position:absolute;
  left:50%; top:50%; transform:translate(-50%, -50%);
  width:max-content;
}
.training-detail-header .btn-back {
  position:relative;
  background:linear-gradient(135deg,#ffffff,#f4f8f6);
  border:1px solid #cfd9d3;
  color:#1f5d35;
  font-weight:600;
  font-size:.63rem;
  padding:8px 16px 8px 34px;
  border-radius:28px;
  letter-spacing:.3px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  line-height:1;
  box-shadow:0 2px 4px rgba(0,0,0,0.05);
  transition:background .25s ease, box-shadow .25s ease, transform .18s ease;
}
.training-detail-header .btn-back:before {
  content:"";
  position:absolute;
  left:10px; top:50%; transform:translateY(-50%);
  width:16px; height:16px;
  background:conic-gradient(from 180deg at 50% 50%, #3c9d60, #2f7c4d 60%, #3c9d60);
  -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='15 18 9 12 15 6'%3E%3C/polyline%3E%3C/svg%3E") center/14px 14px no-repeat;
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='15 18 9 12 15 6'%3E%3C/polyline%3E%3C/svg%3E") center/14px 14px no-repeat;
  border-radius:40%;
  box-shadow:0 0 0 1px rgba(255,255,255,0.6) inset;
}
.training-detail-header .btn-back:hover { background:linear-gradient(135deg,#f8fcfa,#edf6f1); box-shadow:0 3px 8px rgba(0,0,0,0.10); }
.training-detail-header .btn-back:active { transform:translateY(1px); box-shadow:0 1px 3px rgba(0,0,0,0.18); }
.training-detail-header .btn-back:focus-visible { outline:2px solid #3d9f57; outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.35); }
.td-status { font-size:.7rem; font-weight:600; background:#eef3f0; padding:4px 8px; border-radius:14px; }
.td-status.is-published { background:#e3f7e7; color:#1d6b2f; }
.td-status.is-draft { background:#f7efe3; color:#8a4b14; }
.td-status.is-archived { background:#eee; color:#555; text-decoration:line-through; }
#trainingDetailPageRoot h1 { font-size:1.2rem; margin:0 0 8px; }
#trainingDetailActions, .actions-bar { 
  display:flex; 
  gap:10px; 
  flex-wrap:wrap; 
  margin:0 0 16px; 
  justify-content:center; 
  padding:10px 14px; 
  background:linear-gradient(135deg,#ffffff 0%, #f7f9fa 100%);
  border:1px solid #e2e6e8; 
  border-radius:12px; 
  box-shadow:0 2px 4px rgba(0,0,0,0.04), 0 4px 14px -4px rgba(0,0,0,0.06);
  position:relative;
}

#trainingDetailActions:before { content:""; position:absolute; inset:0; border-radius:12px; pointer-events:none; background:radial-gradient(circle at 30% 20%, rgba(80,160,120,0.08), transparent 60%); opacity:.6; }

#trainingDetailActions .btn-small, .actions-bar .btn-small {
  position:relative;
  font-size:.65rem;
  padding:6px 12px 7px;
  border-radius:20px; 
  background:#fff;
  border:1px solid #d5dcdf;
  line-height:1;
  transition:background .18s ease, box-shadow .18s ease, transform .18s ease;
  box-shadow:0 1px 2px rgba(0,0,0,0.05);
}
#trainingDetailActions .btn-small:hover:not(:disabled), .actions-bar .btn-small:hover:not(:disabled) {
  background:#f0f5f2;
  box-shadow:0 2px 4px rgba(0,0,0,0.10);
}
#trainingDetailActions .btn-small:active:not(:disabled), .actions-bar .btn-small:active:not(:disabled) {
  transform:translateY(1px);
  box-shadow:0 1px 2px rgba(0,0,0,0.15);
}
#trainingDetailActions .btn-small:focus-visible, .actions-bar .btn-small:focus-visible {
  outline:2px solid var(--verde-claro,#3d9f57); outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.25);
}

#trainingDetailActions .btn-small-remove, .actions-bar .btn-small-remove {
  background:#fff5f5; border-color:#e7b9b9; color:#b33939;
}
#trainingDetailActions .btn-small-remove:hover:not(:disabled), .actions-bar .btn-small-remove:hover:not(:disabled) {
  background:#ffe9e9; border-color:#d99292;
}

#trainingDetailActions .btn-small[disabled], .actions-bar .btn-small[disabled] {
  opacity:.55; cursor:not-allowed; box-shadow:none; }

@media (max-width:820px) {
  #trainingDetailActions, .actions-bar { padding:10px 10px; gap:8px; }
  #trainingDetailActions .btn-small, .actions-bar .btn-small { flex:1 1 calc(50% - 12px); text-align:center; }
}
@media (max-width:520px) {
  #trainingDetailActions .btn-small, .actions-bar .btn-small { flex:1 1 100%; }
}

.td-loading { font-size:0.8rem; color:#555; }
.td-error { color:#b33; font-size:0.8rem; }
.td-empty { font-size:0.75rem; opacity:0.8; }

.td-block { background:#fff; border:1px solid #e3e6e8; border-radius:8px; padding:14px 16px 16px; box-shadow:0 2px 4px rgba(0,0,0,0.04); }
.td-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px 16px; }
.td-field { display:flex; flex-direction:column; gap:4px; font-size:0.7rem; }
.td-label { font-size:0.58rem; text-transform:uppercase; letter-spacing:.5px; font-weight:600; color:#555; }
.td-value { font-size:0.75rem; line-height:1.2; }
.td-desc { grid-column:1 / -1; }
.td-sectors { grid-column:1 / -1; }
.td-sectors-list { list-style:disc; margin:4px 0 0 18px; padding:0; }

.td-published { color:var(--verde-escuro,#2e7d32); font-weight:600; }
.td-ok { color:var(--verde-escuro,#2e7d32); font-weight:600; }
.td-warn { color:#c0392b; font-weight:600; }

.td-box { margin-top:14px; border:1px solid #e2e6e8; border-radius:6px; padding:10px 12px; background:#fafafa; font-size:0.7rem; }
.td-box-title { display:block; font-size:0.65rem; margin-bottom:4px; text-transform:uppercase; letter-spacing:.5px; }
.td-box-ebook { background:#f5f9fb; border-color:#d9e5ea; }
.td-box-ebook .td-ebook-hint { margin-top:6px; font-size:.70rem; color:#54626c; opacity:.85; }
.td-box-cover { background:#faf9f5; border-color:#e9e2d0; }
.td-box-assignments { background:#f8f9fa; border-color:#dfe4e7; }
.td-box-assignments .td-assignment-wrapper { overflow-x:auto; margin-top:4px; }
.td-assignment-table { width:100%; border-collapse:separate; border-spacing:0; min-width:420px; }
.td-assignment-table thead th { background:#eef2f4; font-size:0.58rem; font-weight:600; text-align:left; padding:6px 8px; color:#445; letter-spacing:.3px; position:sticky; top:0; z-index:1; }
.td-assignment-table tbody td { font-size:0.66rem; padding:6px 8px; border-top:1px solid #e2e6e8; vertical-align:top; line-height:1.15rem; }
.td-assignment-table tbody tr:first-child td { border-top:none; }
.td-assignment-table tbody tr:nth-child(even) td { background:#fbfcfc; }
.td-assignment-table tbody tr:hover td { background:#f1f6f8; }
.td-assignment-table td:first-child, .td-assignment-table th:first-child { border-top-left-radius:4px; }
.td-assignment-table td:last-child, .td-assignment-table th:last-child { border-top-right-radius:4px; }
.td-assignment-table .td-empty-row td { text-align:center; font-style:italic; color:#777; }
.td-box-assignments .td-hint { font-size:0.55rem; margin:6px 2px 0; color:#666; }

/* Badges para tipos (Obrigatório/Opcional) - se quisermos enriquecer visual */
.td-assignment-table .badge-type { display:inline-block; padding:2px 6px; border-radius:10px; font-size:0.55rem; font-weight:600; background:#e7eef2; color:#2d4854; }
.td-assignment-table .badge-type.obrigatorio { background:#e4f6e7; color:#1d6b2f; }
.td-assignment-table .badge-type.opcional { background:#faf0de; color:#8a4b14; }

@media (max-width:760px) {
  .td-assignment-table { min-width:360px; }
  .td-assignment-table thead th, .td-assignment-table tbody td { padding:5px 6px; }
}

@media (max-width:480px) {
  .td-assignment-table { min-width:320px; }
  .td-assignment-table thead th { font-size:0.52rem; }
  .td-assignment-table tbody td { font-size:0.6rem; }
}

.td-actions-row { margin-top:6px; display:flex; gap:6px; flex-wrap:wrap; }

.td-cover-preview { margin-top:6px; }
.td-cover-preview img { max-width:140px; max-height:180px; display:block; border:1px solid #ddd; border-radius:4px; }
/* Skeleton placeholder capa */
.td-cover-skeleton { margin-top:6px; width:110px; height:140px; border-radius:4px; position:relative; overflow:hidden; background:#e2e5e7; border:1px solid #d2d6d9; }
.td-cover-skeleton:before { content:""; position:absolute; inset:0; background:linear-gradient(90deg, rgba(230,233,235,0) 0%, rgba(255,255,255,0.65) 50%, rgba(230,233,235,0) 100%); animation:tdShimmer 1.2s infinite; }
@keyframes tdShimmer { 0% { transform:translateX(-100%); } 100% { transform:translateX(100%); } }
.td-cover-row { margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; font-size:0.65rem; }
.td-cover-input { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
.td-cover-trigger { 
  cursor:pointer; 
  background:linear-gradient(135deg,#ffffff,#f2f7f4); 
  border:1px solid #c9d6cf; 
  color:#205d34; 
  font-weight:600; 
  letter-spacing:.2px; 
  padding:7px 14px 8px; 
  font-size:.63rem; 
  border-radius:24px; 
  display:inline-flex; 
  align-items:center; 
  gap:6px; 
  position:relative; 
  box-shadow:0 1px 2px rgba(0,0,0,0.05), 0 3px 8px -4px rgba(0,0,0,0.18);
  transition:background .22s ease, box-shadow .22s ease, transform .18s ease; 
}
.td-cover-trigger:before { content:""; width:14px; height:14px; border-radius:4px; background:linear-gradient(135deg,#3fa068,#2d7a49); box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5); }
.td-cover-trigger:hover { background:linear-gradient(135deg,#f7fbf9,#ecf5ef); box-shadow:0 2px 5px rgba(0,0,0,0.12); }
.td-cover-trigger:active { transform:translateY(1px); box-shadow:0 1px 3px rgba(0,0,0,0.18); }
.td-cover-trigger:focus-visible { outline:2px solid #3d9f57; outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.35); }
.td-cover-trigger.is-has-cover:before { background:linear-gradient(135deg,#2d7a49,#225a35); }
.td-cover-upload .td-cover-trigger { position:relative; z-index:2; }
.td-cover-upload { position:relative; display:inline-block; }
.td-cover-input-overlay { position:absolute; inset:0; opacity:0; cursor:pointer; width:100%; height:100%; }
.td-cover-upload .td-cover-trigger { position:relative; z-index:2; }
.td-file-name { max-width:180px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.cover-progress { display:none; font-size:0.6rem; color:#333; }
.td-hint { margin-top:6px; font-size:0.55rem; color:#666; }

.td-raw { margin-top:16px; }
.td-raw pre { white-space:pre-wrap; font-size:0.62rem; background:#f7f7f7; padding:6px 8px; border:1px solid #e2e2e2; border-radius:4px; max-height:220px; overflow:auto; }

@media (max-width:600px) {
  #trainingDetailActions { gap:6px; }
  .td-grid { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
}
