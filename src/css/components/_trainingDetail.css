:root {
  --td-gap: 10px;
}

/* Página Detalhe Treinamento */
#trainingDetailPageRoot { padding:14px 10px 40px; }
#trainingReaderPageRoot {
  padding:24px 16px 70px;
  margin:0 auto;
  width:100%;
  max-width:min(1160px, 96vw);
  background:linear-gradient(180deg, rgba(241,249,244,0.9) 0%, rgba(255,255,255,0.95) 45%, rgba(255,255,255,1) 100%);
}
#trainingReaderPageRoot.training-reader-wrapper { display:flex; flex-direction:column; gap:26px; }
#trainingReaderPageRoot .learner-detail { gap:26px; }
@media (max-width:720px) {
  #trainingReaderPageRoot { padding:20px 12px 60px; }
}
#trainingDetailPageRoot .training-detail-header,
#trainingReaderPageRoot .training-detail-header {
  /* Grid de 3 colunas: esquerda (largura do botão), centro (título), direita (placeholder invisível) */
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  margin-bottom:14px;
  position:relative;
  min-height:42px;
  width:100%;
}
#trainingDetailPageRoot .training-detail-header .btn-back,
#trainingReaderPageRoot .training-detail-header .btn-back { grid-column:1; }
#trainingDetailPageRoot .training-detail-header:after,
#trainingReaderPageRoot .training-detail-header:after {
  /* Placeholder invisível para espelhar a largura do botão e assegurar centro geométrico */
  content:"";
  grid-column:3;
  width:0; /* será expandido via JS opcionalmente se necessário */
}
#trainingDetailPageRoot .training-detail-header .training-title,
#trainingReaderPageRoot .training-detail-header .training-title {
  grid-column:2;
  margin:0;
  font-size:1.2rem;
  text-align:center;
  line-height:1.2;
  padding:0; /* remover padding que empurrava visualmente */
  position:relative;
}
/* Fallback absoluto caso o grid seja alterado por algum CSS externo */
#trainingDetailPageRoot .training-detail-header.is-abs-center .training-title,
#trainingReaderPageRoot .training-detail-header.is-abs-center .training-title {
  position:absolute;
  left:50%; top:50%; transform:translate(-50%, -50%);
  width:max-content;
}
.training-detail-header .btn-back {
  position:relative;
  background:linear-gradient(135deg,#ffffff,#f4f8f6);
  border:1px solid #cfd9d3;
  color:#1f5d35;
  font-weight:600;
  font-size:.63rem;
  padding:8px 16px 8px 34px;
  border-radius:28px;
  letter-spacing:.3px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  line-height:1;
  box-shadow:0 2px 4px rgba(0,0,0,0.05);
  transition:background .25s ease, box-shadow .25s ease, transform .18s ease;
}
.training-detail-header .btn-back:before {
  content:"";
  position:absolute;
  left:10px; top:50%; transform:translateY(-50%);
  width:16px; height:16px;
  background:conic-gradient(from 180deg at 50% 50%, #3c9d60, #2f7c4d 60%, #3c9d60);
  -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='15 18 9 12 15 6'%3E%3C/polyline%3E%3C/svg%3E") center/14px 14px no-repeat;
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='15 18 9 12 15 6'%3E%3C/polyline%3E%3C/svg%3E") center/14px 14px no-repeat;
  border-radius:40%;
  box-shadow:0 0 0 1px rgba(255,255,255,0.6) inset;
}
.training-detail-header .btn-back:hover { background:linear-gradient(135deg,#f8fcfa,#edf6f1); box-shadow:0 3px 8px rgba(0,0,0,0.10); }
.training-detail-header .btn-back:active { transform:translateY(1px); box-shadow:0 1px 3px rgba(0,0,0,0.18); }
.training-detail-header .btn-back:focus-visible { outline:2px solid #3d9f57; outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.35); }
.td-status { font-size:.7rem; font-weight:600; background:#eef3f0; padding:4px 8px; border-radius:14px; }
.td-status.is-published { background:#e3f7e7; color:#1d6b2f; }
.td-status.is-draft { background:#f7efe3; color:#8a4b14; }
.td-status.is-archived { background:#eee; color:#555; text-decoration:line-through; }
#trainingDetailPageRoot h1,
#trainingReaderPageRoot h1 { font-size:1.2rem; margin:0 0 8px; }
#trainingDetailActions, .actions-bar { 
  display:flex; 
  gap:10px; 
  flex-wrap:wrap; 
  margin:0 0 16px; 
  justify-content:center; 
  padding:10px 14px; 
  background:linear-gradient(135deg,#ffffff 0%, #f7f9fa 100%);
  border:1px solid #e2e6e8; 
  border-radius:12px; 
  box-shadow:0 2px 4px rgba(0,0,0,0.04), 0 4px 14px -4px rgba(0,0,0,0.06);
  position:relative;
}

#trainingDetailActions:before { content:""; position:absolute; inset:0; border-radius:12px; pointer-events:none; background:radial-gradient(circle at 30% 20%, rgba(80,160,120,0.08), transparent 60%); opacity:.6; }

#trainingDetailActions .btn-small, .actions-bar .btn-small {
  position:relative;
  font-size:.65rem;
  padding:6px 12px 7px;
  border-radius:20px; 
  background:#fff;
  border:1px solid #d5dcdf;
  line-height:1;
  transition:background .18s ease, box-shadow .18s ease, transform .18s ease;
  box-shadow:0 1px 2px rgba(0,0,0,0.05);
}
#trainingDetailActions .btn-small:hover:not(:disabled), .actions-bar .btn-small:hover:not(:disabled) {
  background:#f0f5f2;
  box-shadow:0 2px 4px rgba(0,0,0,0.10);
}
#trainingDetailActions .btn-small:active:not(:disabled), .actions-bar .btn-small:active:not(:disabled) {
  transform:translateY(1px);
  box-shadow:0 1px 2px rgba(0,0,0,0.15);
}
#trainingDetailActions .btn-small:focus-visible, .actions-bar .btn-small:focus-visible {
  outline:2px solid var(--verde-claro,#3d9f57); outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.25);
}

#trainingDetailActions .btn-small-remove, .actions-bar .btn-small-remove {
  background:#fff5f5; border-color:#e7b9b9; color:#b33939;
}
#trainingDetailActions .btn-small-remove:hover:not(:disabled), .actions-bar .btn-small-remove:hover:not(:disabled) {
  background:#ffe9e9; border-color:#d99292;
}

#trainingDetailActions .btn-small[disabled], .actions-bar .btn-small[disabled] {
  opacity:.55; cursor:not-allowed; box-shadow:none; }

@media (max-width:820px) {
  #trainingDetailActions, .actions-bar { padding:10px 10px; gap:8px; }
  #trainingDetailActions .btn-small, .actions-bar .btn-small { flex:1 1 calc(50% - 12px); text-align:center; }
}
@media (max-width:520px) {
  #trainingDetailActions .btn-small, .actions-bar .btn-small { flex:1 1 100%; }
}

.td-loading { font-size:0.8rem; color:#555; }
.td-error { color:#b33; font-size:0.8rem; }
.td-empty { font-size:0.75rem; opacity:0.8; }

.td-block { background:#fff; border:1px solid #e3e6e8; border-radius:8px; padding:14px 16px 16px; box-shadow:0 2px 4px rgba(0,0,0,0.04); }
.td-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px 16px; }
.td-field { display:flex; flex-direction:column; gap:4px; font-size:0.7rem; }
.td-label { font-size:0.58rem; text-transform:uppercase; letter-spacing:.5px; font-weight:600; color:#555; }
.td-value { font-size:0.75rem; line-height:1.2; }
.td-desc { grid-column:1 / -1; }
.td-sectors { grid-column:1 / -1; }
.td-sectors-list { list-style:disc; margin:4px 0 0 18px; padding:0; }

.td-published { color:var(--verde-escuro,#2e7d32); font-weight:600; }
.td-ok { color:var(--verde-escuro,#2e7d32); font-weight:600; }
.td-warn { color:#c0392b; font-weight:600; }

.td-box { margin-top:14px; border:1px solid #e2e6e8; border-radius:6px; padding:10px 12px; background:#fafafa; font-size:0.7rem; }
.td-box-title { display:block; font-size:0.65rem; margin-bottom:4px; text-transform:uppercase; letter-spacing:.5px; }
.td-box-ebook { background:#f5f9fb; border-color:#d9e5ea; }
.td-box-ebook .td-ebook-hint { margin-top:6px; font-size:.70rem; color:#54626c; opacity:.85; }
.td-box-cover { background:#faf9f5; border-color:#e9e2d0; }
.td-box-assignments { background:#f8f9fa; border-color:#dfe4e7; }
.td-box-assignments .td-assignment-wrapper { overflow-x:auto; margin-top:4px; }
.td-assignment-table { width:100%; border-collapse:separate; border-spacing:0; min-width:420px; }
.td-assignment-table thead th { background:#eef2f4; font-size:0.58rem; font-weight:600; text-align:left; padding:6px 8px; color:#445; letter-spacing:.3px; position:sticky; top:0; z-index:1; }
.td-assignment-table tbody td { font-size:0.66rem; padding:6px 8px; border-top:1px solid #e2e6e8; vertical-align:top; line-height:1.15rem; }
.td-assignment-table tbody tr:first-child td { border-top:none; }
.td-assignment-table tbody tr:nth-child(even) td { background:#fbfcfc; }
.td-assignment-table tbody tr:hover td { background:#f1f6f8; }
.td-assignment-table td:first-child, .td-assignment-table th:first-child { border-top-left-radius:4px; }
.td-assignment-table td:last-child, .td-assignment-table th:last-child { border-top-right-radius:4px; }
.td-assignment-table .td-empty-row td { text-align:center; font-style:italic; color:#777; }
.td-box-assignments .td-hint { font-size:0.55rem; margin:6px 2px 0; color:#666; }

/* Badges para tipos (Obrigatório/Opcional) - se quisermos enriquecer visual */
.td-assignment-table .badge-type { display:inline-block; padding:2px 6px; border-radius:10px; font-size:0.55rem; font-weight:600; background:#e7eef2; color:#2d4854; }
.td-assignment-table .badge-type.obrigatorio { background:#e4f6e7; color:#1d6b2f; }
.td-assignment-table .badge-type.opcional { background:#faf0de; color:#8a4b14; }

@media (max-width:760px) {
  .td-assignment-table { min-width:360px; }
  .td-assignment-table thead th, .td-assignment-table tbody td { padding:5px 6px; }
}

@media (max-width:480px) {
  .td-assignment-table { min-width:320px; }
  .td-assignment-table thead th { font-size:0.52rem; }
  .td-assignment-table tbody td { font-size:0.6rem; }
}

.td-actions-row { margin-top:6px; display:flex; gap:6px; flex-wrap:wrap; }

.td-cover-preview { margin-top:6px; }
.td-cover-preview img { max-width:140px; max-height:180px; display:block; border:1px solid #ddd; border-radius:4px; }
/* Skeleton placeholder capa */
.td-cover-skeleton { margin-top:6px; width:110px; height:140px; border-radius:4px; position:relative; overflow:hidden; background:#e2e5e7; border:1px solid #d2d6d9; }
.td-cover-skeleton:before { content:""; position:absolute; inset:0; background:linear-gradient(90deg, rgba(230,233,235,0) 0%, rgba(255,255,255,0.65) 50%, rgba(230,233,235,0) 100%); animation:tdShimmer 1.2s infinite; }
@keyframes tdShimmer { 0% { transform:translateX(-100%); } 100% { transform:translateX(100%); } }
.td-cover-row { margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; font-size:0.65rem; }
.td-cover-input { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
.td-cover-trigger { 
  cursor:pointer; 
  background:linear-gradient(135deg,#ffffff,#f2f7f4); 
  border:1px solid #c9d6cf; 
  color:#205d34; 
  font-weight:600; 
  letter-spacing:.2px; 
  padding:7px 14px 8px; 
  font-size:.63rem; 
  border-radius:24px; 
  display:inline-flex; 
  align-items:center; 
  gap:6px; 
  position:relative; 
  box-shadow:0 1px 2px rgba(0,0,0,0.05), 0 3px 8px -4px rgba(0,0,0,0.18);
  transition:background .22s ease, box-shadow .22s ease, transform .18s ease; 
}
.td-cover-trigger:before { content:""; width:14px; height:14px; border-radius:4px; background:linear-gradient(135deg,#3fa068,#2d7a49); box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5); }
.td-cover-trigger:hover { background:linear-gradient(135deg,#f7fbf9,#ecf5ef); box-shadow:0 2px 5px rgba(0,0,0,0.12); }
.td-cover-trigger:active { transform:translateY(1px); box-shadow:0 1px 3px rgba(0,0,0,0.18); }
.td-cover-trigger:focus-visible { outline:2px solid #3d9f57; outline-offset:2px; box-shadow:0 0 0 3px rgba(61,159,87,0.35); }
.td-cover-trigger.is-has-cover:before { background:linear-gradient(135deg,#2d7a49,#225a35); }
.td-cover-upload .td-cover-trigger { position:relative; z-index:2; }
.td-cover-upload { position:relative; display:inline-block; }
.td-cover-input-overlay { position:absolute; inset:0; opacity:0; cursor:pointer; width:100%; height:100%; }
.td-cover-upload .td-cover-trigger { position:relative; z-index:2; }
.td-file-name { max-width:180px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.cover-progress { display:none; font-size:0.6rem; color:#333; }
.td-hint { margin-top:6px; font-size:0.55rem; color:#666; }

.td-raw { margin-top:16px; }
.td-raw pre { white-space:pre-wrap; font-size:0.62rem; background:#f7f7f7; padding:6px 8px; border:1px solid #e2e2e2; border-radius:4px; max-height:220px; overflow:auto; }

@media (max-width:600px) {
  #trainingDetailActions { gap:6px; }
  .td-grid { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
}

/* ===== Visão do aprendiz (ORG_MEMBER / ORG_ADMIN) ===== */
.learner-detail { display:flex; flex-direction:column; gap:18px; }
.learner-overview { background:#fff; border:1px solid #dde4e1; border-radius:10px; padding:16px; box-shadow:0 2px 4px rgba(0,0,0,0.04); }
.learner-meta { display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:10px; }
.learner-status { display:inline-flex; align-items:center; gap:6px; font-size:0.65rem; font-weight:600; padding:6px 12px; border-radius:999px; background:#eff5f2; color:#1d5d39; letter-spacing:.3px; text-transform:uppercase; }
.learner-badge { display:inline-flex; align-items:center; gap:6px; font-size:0.6rem; font-weight:600; padding:4px 10px; border-radius:999px; background:#f3f7fb; color:#285a7a; letter-spacing:.3px; }
.learner-title { font-size:1.15rem; margin:0 0 6px; line-height:1.25; color:#1f2f28; }
.learner-author { margin:0 0 6px; font-size:0.7rem; color:#4a5b52; }
.learner-description { margin:0; font-size:0.75rem; line-height:1.45; color:#2f3f35; }
.learner-cover { display:flex; justify-content:center; }
.learner-cover img { max-width:200px; border-radius:12px; border:1px solid #dfe5e1; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
.learner-cover > .learning-cover-placeholder {
  position:relative;
  inset:auto;
  width:200px;
  height:264px;
  border-radius:12px;
  border:1px solid #dfe5e1;
  background:linear-gradient(135deg,#f4f8f6 0%,#e7efea 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.4rem;
  font-weight:700;
  color:#5f7269;
  box-shadow:0 4px 12px rgba(0,0,0,0.08);
}
.learner-assignment { background:#f9fbfa; border:1px solid #e1e8e4; border-radius:10px; padding:14px 16px; font-size:0.7rem; color:#2f3f35; box-shadow:0 2px 4px rgba(0,0,0,0.03); }
.learner-assignment h3 { margin:0 0 10px; font-size:0.8rem; color:#1f5d35; }
.learner-assignment-list { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:10px; margin:0; padding:0; }
.learner-assignment-list div { display:flex; flex-direction:column; gap:2px; }
.learner-assignment-list dt { font-size:0.58rem; text-transform:uppercase; letter-spacing:.4px; color:#4a5b52; font-weight:600; }
.learner-assignment-list dd { margin:0; font-size:0.7rem; color:#243128; }
.learner-notes { margin:12px 0 0; font-size:0.7rem; line-height:1.35; color:#2f3f35; }
.learner-reader { background:#fff; border:1px solid #d7e2dc; border-radius:14px; padding:20px 24px 26px; box-shadow:0 12px 28px rgba(0,0,0,0.08); }
.learner-reader h3 { margin:0 0 12px; font-size:0.85rem; color:#1f5d35; }

.training-pdf-shell { position:relative; border-radius:16px; padding:14px; background:linear-gradient(160deg, rgba(232,244,238,0.95) 0%, rgba(255,255,255,0.6) 100%); box-shadow:0 14px 30px rgba(31,93,53,0.08); }
.training-pdf-container {
  min-height:clamp(420px, 75vh, 860px);
  border:1px solid #d4e1da;
  border-radius:12px;
  background:linear-gradient(180deg,#ffffff 0%,#fafdfa 100%);
  padding:28px 24px;
  overflow:auto;
  position:relative;
  box-shadow:inset 0 1px 2px rgba(0,0,0,0.05);
}
.training-pdf-container::-webkit-scrollbar { width:10px; }
.training-pdf-container::-webkit-scrollbar-thumb { background:#c5d5cc; border-radius:10px; }
.training-pdf-container::-webkit-scrollbar-track { background:transparent; }
.training-pdf-container .td-empty { margin:0; }
.pdf-loading { text-align:center; font-size:0.72rem; color:#4a5b52; padding:40px 0; }
.pdf-loading.inline { padding:28px 0; font-size:0.7rem; }
.pdf-viewer { display:flex; flex-direction:column; gap:18px; align-items:center; }
.pdf-viewer-continuous .pdf-page { width:100%; max-width:820px; }
.pdf-viewer-single { display:flex; align-items:center; justify-content:center; }
.pdf-viewer-single .pdf-page-single { width:100%; max-width:860px; }
.pdf-page { background:#fff; border:1px solid #dfe4e3; border-radius:12px; box-shadow:0 16px 40px rgba(0,0,0,0.08); padding:18px; }
.pdf-page canvas { max-width:100%; height:auto; display:block; border-radius:6px; box-shadow:0 0 0 1px rgba(0,0,0,0.04); }

.reader-controls { display:flex; align-items:center; gap:16px; background:#f5fbf7; border:1px solid #d7e7de; border-radius:999px; padding:10px 18px; margin-bottom:18px; box-shadow:0 6px 16px rgba(31,93,53,0.08); flex-wrap:wrap; justify-content:center; }
.reader-controls.is-single-page { justify-content:center; }
.reader-nav-btn { background:#ffffff; border:1px solid #c8d8cf; border-radius:999px; padding:10px 18px; font-size:0.7rem; font-weight:600; color:#1f5d35; letter-spacing:.2px; transition:background .2s ease, box-shadow .2s ease, transform .15s ease; box-shadow:0 1px 3px rgba(0,0,0,0.08); }
.reader-nav-btn:hover:not(:disabled) { background:#ecf7ef; box-shadow:0 4px 10px rgba(31,93,53,0.12); }
.reader-nav-btn:active:not(:disabled) { transform:translateY(1px); }
.reader-nav-btn:disabled { opacity:.55; cursor:not-allowed; box-shadow:none; }
.reader-page-indicator { font-size:0.72rem; font-weight:600; color:#264d35; }
.reader-progress-display { display:flex; align-items:center; gap:10px; }
.reader-progress-track { width:160px; height:8px; background:#dce9e2; border-radius:999px; position:relative; overflow:hidden; }
.reader-progress-fill { position:absolute; inset:0; width:0%; background:linear-gradient(135deg,#3fa068,#2d7a49); border-radius:999px; transition:width .25s ease; }
.reader-progress-text { font-size:0.7rem; font-weight:600; color:#1f4630; }

.training-pdf-container[data-rendering="true"]::after {
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));
  pointer-events:none;
  border-radius:12px;
}

@media (max-width:720px) {
  .learner-assignment-list { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
  .learner-cover img { max-width:170px; }
  .learner-cover > .learning-cover-placeholder {
    width:170px;
    height:224px;
    font-size:2.1rem;
  }
  .learner-reader { padding:18px; }
  .reader-controls { border-radius:16px; padding:12px; gap:12px; }
  .reader-progress-display { width:100%; justify-content:center; }
  .reader-progress-track { flex:1 1 160px; max-width:260px; }
}

@media (max-width:520px) {
  .learner-meta { flex-direction:column; align-items:flex-start; }
  .learner-status, .learner-badge { width:100%; justify-content:center; }
  .training-pdf-shell { padding:10px; }
  .training-pdf-container { padding:18px 14px; }
  .reader-controls { flex-direction:column; align-items:stretch; }
  .reader-progress-display { flex-direction:column; gap:6px; }
}
