import{a as F}from"./chunk-XA65GTZS.js";import{f as P}from"./chunk-4WPZJNDW.js";import"./chunk-QH4O4DEC.js";import"./chunk-ISAQG44I.js";import{Ab as w,Eb as o,Fb as d,Gb as S,Ja as l,Qb as k,Rb as D,T as O,Ua as g,Ub as T,Y as v,Yb as u,Z as h,Za as s,ib as y,nb as c,nc as f,ob as a,oc as _,pb as i,qb as b,ub as I,vb as E,wb as p,wc as L,zc as C}from"./chunk-REX2TJ7H.js";function A(t,e){if(t&1&&(a(0,"span",9),o(1),i()),t&2){let n=p();l(),d(n.durationLabel())}}function j(t,e){if(t&1&&(a(0,"span",15),o(1),i()),t&2){let n=p(2);l(),d(n.formatPrice(n.plan.originalPrice))}}function V(t,e){if(t&1&&(a(0,"span",16),o(1),i()),t&2){let n=p(2);l(),S("-",n.discountPercent(),"%")}}function G(t,e){if(t&1&&(a(0,"div",10)(1,"div",11),s(2,j,2,1,"span",12),a(3,"span",13),o(4),i()(),s(5,V,2,1,"span",14),i()),t&2){let n=p();l(2),c("ngIf",n.showDiscount()),l(2),d(n.formatPrice(n.plan.currentPrice)),l(),c("ngIf",n.showDiscount())}}function K(t,e){t&1&&(a(0,"div",17)(1,"span",13),o(2,"Sob consulta"),i()())}function U(t,e){if(t&1&&(a(0,"li"),o(1),k(2,"uppercase"),i()),t&2){let n=e.$implicit;l(),d(D(2,1,n))}}function $(t,e){if(t&1&&(a(0,"div",18)(1,"h3",19),o(2,"Setores indicados"),i(),a(3,"ul"),s(4,U,3,3,"li",20),i()()),t&2){let n=p();l(4),c("ngForOf",n.plan.sectors)}}var x=class t{plan=null;self=t;currency=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});durationLabel=u(()=>this.buildDurationLabel(this.plan?.durationInDays));showDiscount=u(()=>!this.plan?.originalPrice||!this.plan?.currentPrice?!1:this.plan.originalPrice>this.plan.currentPrice);discountPercent=u(()=>{if(!this.showDiscount())return 0;let e=this.plan.originalPrice-this.plan.currentPrice;return Math.round(e/this.plan.originalPrice*100)});formatPrice(e){return this.currency.format(e)}buildDurationLabel(e){return e?e>=28&&e<=31?"Mensal":e>=85&&e<=95?"Trimestral":e>=170&&e<=190?"Semestral":e>=360&&e<=370?"Anual":e===7?"Semanal":`${e} dias`:""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["pros-plan-card"]],inputs:{plan:"plan"},decls:14,vars:7,consts:[["priceFallback",""],[1,"plan-card"],[1,"plan-header"],["class","badge",4,"ngIf"],[1,"plan-description"],["class","plan-pricing",4,"ngIf","ngIfElse"],["class","plan-sectors",4,"ngIf"],[1,"plan-actions"],["routerLink","/contato",1,"btn","btn-primary"],[1,"badge"],[1,"plan-pricing"],[1,"price-values"],["class","price-old",4,"ngIf"],[1,"price-current"],["class","price-badge",4,"ngIf"],[1,"price-old"],[1,"price-badge"],[1,"plan-pricing","plan-pricing--pending"],[1,"plan-sectors"],[1,"sr-only"],[4,"ngFor","ngForOf"]],template:function(n,r){if(n&1&&(a(0,"article",1)(1,"header",2),s(2,A,2,1,"span",3),a(3,"h2"),o(4),i()(),a(5,"p",4),o(6),i(),s(7,G,6,3,"div",5)(8,K,3,0,"ng-template",null,0,T)(10,$,5,1,"div",6),a(11,"div",7)(12,"a",8),o(13,"Falar com um especialista"),i()()()),n&2){let m=w(9);y("data-discount",r.showDiscount()?"true":null),l(2),c("ngIf",r.durationLabel()),l(2),d(r.plan==null?null:r.plan.name),l(2),d(r.plan==null?null:r.plan.description),l(),c("ngIf",r.plan==null?null:r.plan.currentPrice)("ngIfElse",m),l(3),c("ngIf",r.plan==null||r.plan.sectors==null?null:r.plan.sectors.length)}},dependencies:[C,f,_,P,L],styles:['.plan-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;border-radius:16px;padding:2rem;box-shadow:0 12px 32px #1f242b14;border:1px solid rgba(106,90,205,.08);position:relative;overflow:hidden;transition:box-shadow .25s ease,transform .25s ease}.plan-card[_ngcontent-%COMP%]:hover{box-shadow:0 16px 40px #1f242b1f;transform:translateY(-4px)}.plan-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.5rem 0 .75rem;font-size:1.35rem}.plan-description[_ngcontent-%COMP%]{color:var(--color-text-muted, #5b5f63);flex-grow:0}.badge[_ngcontent-%COMP%]{display:inline-flex;padding:.35rem .75rem;border-radius:999px;font-size:.65rem;letter-spacing:.12em;background:#6a5acd1f;color:var(--color-primary-600, #5a4bcf);font-weight:600;text-transform:uppercase}.plan-pricing[_ngcontent-%COMP%]{margin-top:1.25rem;display:flex;align-items:flex-end;gap:.75rem}.plan-pricing[_ngcontent-%COMP%]   .price-values[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:.5rem}.price-old[_ngcontent-%COMP%]{text-decoration:line-through;color:#888;font-size:.9rem}.price-current[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-primary-600, #5a4bcf)}.price-badge[_ngcontent-%COMP%]{background:#ff5252;color:#fff;font-size:.7rem;font-weight:600;padding:.35rem .5rem;border-radius:6px;letter-spacing:.05em}.plan-sectors[_ngcontent-%COMP%]{margin-top:1rem}.plan-sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:.5rem}.plan-sectors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#5b5f6314;padding:.35rem .65rem;border-radius:999px;font-size:.65rem;letter-spacing:.08em}.plan-actions[_ngcontent-%COMP%]{margin-top:auto}.plan-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:1.25rem;text-align:center}[data-discount=true][_ngcontent-%COMP%]:before{content:"Oferta";position:absolute;top:0;right:0;background:linear-gradient(135deg,#ff8a5b,#ff5252);color:#fff;font-size:.6rem;font-weight:600;padding:.4rem .6rem;border-bottom-left-radius:10px;letter-spacing:.08em;text-transform:uppercase}@media (min-width: 680px){.plan-card[_ngcontent-%COMP%]{padding:2.25rem}.plan-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.price-current[_ngcontent-%COMP%]{font-size:1.75rem}}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}']})};function Y(t,e){t&1&&(a(0,"div",11),b(1,"span",12),a(2,"p"),o(3,"Carregando planos estrat\xE9gicos\u2026"),i()())}function q(t,e){if(t&1){let n=I();a(0,"div",13)(1,"p"),o(2),i(),a(3,"button",14),E("click",function(){v(n);let m=p();return h(m.ngOnInit())}),o(4,"Tentar novamente"),i()()}if(t&2){let n=p();l(2),d(n.errorMessage)}}function H(t,e){if(t&1&&b(0,"pros-plan-card",17),t&2){let n=e.$implicit;c("plan",n)}}function J(t,e){if(t&1&&(a(0,"div",15),s(1,H,1,1,"pros-plan-card",16),i()),t&2){let n=p();l(),c("ngForOf",n.plans)("ngForTrackBy",n.trackById)}}var N=class t{catalogService=O(F);plans=[];isLoading=!0;errorMessage="";ngOnInit(){this.catalogService.loadCatalog().subscribe({next:e=>{let n=e.filter(r=>r.format==="PACKAGE");this.plans=n.map(r=>this.toPlan(r)),this.isLoading=!1,n.length||(this.errorMessage="Nenhum plano dispon\xEDvel no momento.")},error:e=>{this.errorMessage=e?.message??"N\xE3o foi poss\xEDvel carregar os planos agora.",this.isLoading=!1}})}trackById(e,n){return n.id}formatLabel(e){switch(e){case"PACKAGE":return"Plano";case"EBOOK":return"E-book";case"RECORDED_COURSE":return"Curso gravado";case"LIVE_TRAINING":return"Treinamento ao vivo";default:return"Conte\xFAdo"}}toPlan(e){let n=e.data??{},r=n.originalPrice??n.priceOriginal??n.basePrice??null,m=n.currentPrice??n.price??n.finalPrice??r??null,M=n.durationInDays??n.duration??n.days??null;return{id:e.id,name:e.title,description:e.description,originalPrice:typeof r=="number"?r:null,currentPrice:typeof m=="number"?m:typeof r=="number"?r:null,durationInDays:typeof M=="number"?M:null,sectors:e.sectors}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["pros-plans"]],decls:23,vars:3,consts:[["aria-live","polite",1,"plans-grid"],[1,"container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","grid",4,"ngIf"],[1,"page-header","plans-header"],[1,"subtitle"],["routerLink","/catalog",1,"btn","btn-secondary"],[1,"plans-cta"],[1,"cta-card"],["routerLink","/suporte",1,"btn","btn-primary"],[1,"loading"],["aria-hidden","true",1,"spinner"],[1,"error"],[1,"btn","btn-secondary",3,"click"],[1,"grid"],[3,"plan",4,"ngFor","ngForOf","ngForTrackBy"],[3,"plan"]],template:function(n,r){n&1&&(a(0,"section",0)(1,"div",1),s(2,Y,4,0,"div",2)(3,q,5,1,"div",3)(4,J,2,2,"div",4),i()(),a(5,"section",5)(6,"div",1)(7,"h1"),o(8,"Programas completos para acelerar a sua jornada em SST"),i(),a(9,"p",6),o(10," Combine mentorias, materiais pr\xE1ticos e acompanhamentos cont\xEDnuos para evoluir a cultura de seguran\xE7a e bem-estar da sua organiza\xE7\xE3o. "),i(),a(11,"a",7),o(12,"Explorar cat\xE1logo completo"),i()()(),a(13,"section",8)(14,"div",1)(15,"div",9)(16,"div")(17,"h2"),o(18,"Precisa de um plano personalizado?"),i(),a(19,"p"),o(20,"Montamos trilhas exclusivas de acordo com o porte, maturidade e indicadores da sua empresa."),i()(),a(21,"a",10),o(22,"Solicitar proposta"),i()()()()),n&2&&(l(2),c("ngIf",r.isLoading),l(),c("ngIf",!r.isLoading&&r.errorMessage),l(),c("ngIf",!r.isLoading&&!r.errorMessage))},dependencies:[C,f,_,P,x],styles:['@charset "UTF-8";.plans-grid[_ngcontent-%COMP%]{padding:3rem 0}.plans-grid[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .plans-grid[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{text-align:center;padding:3rem 0}.plans-grid[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:999px;border:3px solid rgba(91,95,99,.2);border-top-color:var(--color-primary-500, #6a5acd);display:inline-block;animation:_ngcontent-%COMP%_spin 1s linear infinite}.plans-grid[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;gap:2rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background:#fff;border-radius:16px;padding:2rem;box-shadow:0 12px 32px #1f242b14;border:1px solid rgba(106,90,205,.08)}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-block:.75rem}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-muted, #5b5f63)}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;padding:.25rem .75rem;border-radius:999px;background:#6a5acd1f;color:var(--color-primary-600, #5a4bcf);font-weight:600;text-transform:uppercase;font-size:.75rem;letter-spacing:.12em}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .plan-sectors[_ngcontent-%COMP%]{margin-top:1.5rem}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .plan-sectors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:0;margin:0;list-style:none}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .plan-sectors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.35rem .75rem;background:#5b5f6314;border-radius:999px;font-size:.75rem;letter-spacing:.08em}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]{margin-top:auto}.plans-grid[_ngcontent-%COMP%]   .plan-card[_ngcontent-%COMP%]   .plan-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:1.5rem}.plans-cta[_ngcontent-%COMP%]{padding:5rem 0 6rem}.plans-cta[_ngcontent-%COMP%]   .cta-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;align-items:flex-start;background:linear-gradient(135deg,#6a5acd1f,#6a5acd52);border-radius:18px;padding:3rem}@media (min-width: 768px){.plans-cta[_ngcontent-%COMP%]   .cta-card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.plans-header[_ngcontent-%COMP%]{text-align:center;padding:3rem 0 2rem}.plans-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:clamp(1.9rem,4.5vw,2.6rem)}.plans-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{max-width:760px;margin:0 auto 1.75rem;color:var(--color-text-muted, #5b5f63)}.plans-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.5rem}']})};export{N as PlansComponent};
